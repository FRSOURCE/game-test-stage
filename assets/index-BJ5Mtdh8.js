import{C as o,c as u,T as l,a as n,P as c,b as d}from"./index-DacPFwv8.js";import{s as p,a as h,b as m}from"./setupShadows-BF5v_kTV.js";const f=({scene:e})=>{const t={width:200,height:200,subdivisions:500,minHeight:0,maxHeight:32,updatable:!1},s=o("texturedGround","maps/SlideTrack/heightMap.webp",t,e),{material:r}=u({scene:e},{name:"groundMaterial",dir:"/textures/snow",uScale:4,vScale:4}),i=new l(`${"/game-test-stage/".slice(0,-1)}/maps/SlideTrack/groundOpacityMask.webp`,e);i.hasAlpha=!0,r.opacityTexture=i,r.emissiveColor=new n(.9,.9,.9),r.emissiveIntensity=.07,r.roughness=.95,r.subSurface.tintColor=new n(.9,.96,.96),r.subSurface.isRefractionEnabled=!0,r.subSurface.refractionIntensity=.2,r.subSurface.indexOfRefraction=2.1,s.material=r,s.receiveShadows=!0,s.renderingGroupId=0;const a=o("physicsGround","maps/SlideTrack/heightMap.webp",{...t,subdivisions:100,onReady:()=>new c(a,d.MESH,{mass:0},e)},e);return a.isVisible=!1,s.checkCollisions=!1,s.isPickable=!1,a.checkCollisions=!0,a.isPickable=!1,s.freezeNormals(),a.freezeNormals(),s.freezeWorldMatrix(),a.freezeWorldMatrix(),{ground:s,physicsGround:a}},S=({scene:e})=>{const t=f({scene:e});p({scene:e}),h({scene:e});const s=m({scene:e});return{ground:t,shadows:s}};export{S as setup};
